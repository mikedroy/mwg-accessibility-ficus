<script>

        jQuery( document ).ready(function() {



            jQuery('.desktopNav__navItemHasSubMenu').each(function() {

                jQuery(this).on('keydown', function(e) {

                    var parentSpan = jQuery(this).find('.desktopNav__subMenu').parent();

                    if (parentSpan.hasClass('opened')) {
                        if (e.which == 13 || e.keyCode == 13) {
                            e.preventDefault();
                            parentSpan.hide();
                            parentSpan.removeClass('opened');
                        }
                    } else {
                        if (e.which == 13 || e.keyCode == 13) {
                            e.preventDefault();
                            parentSpan.show();
                            parentSpan.addClass('opened');
                        }
                    }


                });

                jQuery(this).on('click', function(e) {

                    var parentSpan = jQuery(this).find('.desktopNav__subMenu').parent();

                    if (parentSpan.hasClass('opened')) {
                            e.preventDefault();
                            parentSpan.hide();
                            parentSpan.removeClass('opened');
                    } else {
                            e.preventDefault();
                            parentSpan.show();
                            parentSpan.addClass('opened');
                    }
                });


            });


            jQuery('.flyOutMenu a').each(function() {

                jQuery(this).on('click', function() {
                    alert('You are beening redirected to the ' + jQuery(this).text() + " section!");
                })

            })


            jQuery('.subNav__item.hasFlyOut').each(function() {

                        jQuery(this).on('keydown', function(e) {

                            var parentSpan = jQuery(this).find('.flyOutMenu');

                            if (parentSpan.hasClass('opened')) {
                                if (e.which == 13 || e.keyCode == 13) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    parentSpan.hide();
                                    parentSpan.removeClass('opened');
                                }
                            } else {
                                if (e.which == 13 || e.keyCode == 13) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    parentSpan.show();
                                    parentSpan.addClass('opened');
                                }
                            }

                        });

                jQuery(this).on('click', function(e) {

                    var parentSpan = jQuery(this).find('.flyOutMenu');

                    if (parentSpan.hasClass('opened')) {

                            e.preventDefault();
                            e.stopPropagation();
                            parentSpan.hide();
                            parentSpan.removeClass('opened');

                    } else {

                            e.preventDefault();
                            e.stopPropagation();
                            parentSpan.show();
                            parentSpan.addClass('opened');

                    }

                });


            });



        });


    </script>
    
    <h1>Getting Better.</h1>
    <p>We've improved our invisible header, but it's still not fully accessible yet.</p>
    <p>Using your screen reader and keyboard, attempt to:</p>
    <ol>
        <li>Determine what types of products this fictional store sells</li>
        <li>Find a Item inside a Item Group</li>
    </ol>
    <p>When you're ready to move on, click "continue lesson" to move on to phase 3.</p>
    <p>Some improvements have been made from the previous version.</p>
    <ul>
        <li>Anchor tags have HREF attributes added to be defined as links</li>
        <li>TabIndex attributes have been added to items</li>
    </ul>
    <p>
        When finished, press the button below to show the header.
    </p>
    <button class="button" id="showHeader">Show Header</button>
    <script>
        jQuery('#showHeader').on('click', function() {
            jQuery('.desktopHeader').removeClass('hiddenPush');
        })
    </script>
    
    <div class="header desktopHeader wpjs-header hiddenPush">
    <div class="headerContent">
        <div class="desktopHeader__logo">
            <img class="logoWrap__image wpjs-logo"
                 src="./images/logo_2_retina.png" alt="Logo"
                 style="cursor: pointer;" tabindex="1">
        </div>
        <nav id="wpjs-topNav" class="desktopHeader__desktopNav">
            <span>
                <span id="Home-noSubNav" class="desktopNav__navItem">
                    <a class="" tabindex="2" href="http://xpress.local">Home</a>

                </span>
                <span id="Shop-hasSubNav" class="desktopNav__navItem desktopNav__navItemHasSubMenu">
                    <a class="" tabindex="3" href="#">Shop</a>

                    <span>

                        <ul id="ShopsubNavId" class="desktopNav__subMenu"><div
                                class="shop-menu subMenuInterior">
                            <li class="subNav__item hasFlyOut">
                                <a href="#" tabindex="4">Item Group</a>
                                <span class="flyOutChevron">
                                    <svg class="downChevronIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 5" style="fill: rgb(111, 111, 111);">
                                        <path d="M1 0l3 3 3-3 1 1-4 4-4-4z" style="fill-rule: evenodd; opacity: 0.65;"></path>
                                    </svg>
                                </span>
                                <div class="flyOutMenu" style="display: none;">
                                <ul>
                                    <li class="subNav__item">
                                        <a href="#" tabindex="5">Item</a>
                                    </li>
                                    <li class="subNav__item">
                                        <a href="#" tabindex="6">Item</a>
                                    </li>
                                    <li class="subNav__item">
                                        <a href="#" tabindex="7">Item</a>
                                    </li>
                                </ul>
                                </div>
                                                            </li>
                            <li class="subNav__item hasFlyOut">
                                <a href="#" tabindex="8">Item Group</a>
                                <span class="flyOutChevron">
                            <svg class="downChevronIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 5" style="fill: rgb(111, 111, 111);">
                                <path d="M1 0l3 3 3-3 1 1-4 4-4-4z" style="fill-rule: evenodd; opacity: 0.65;"></path>
                            </svg>
                                </span>
                                <div class="flyOutMenu" style="display: none;">
                                <ul>
                                    <li class="subNav__item">
                                        <a href="#" tabindex="9">Item</a>
                                    </li>

                                     <li class="subNav__item">
                                        <a href="#" tabindex="10">Item</a>
                                    </li>
                                </ul>
                                </div>
                            </li>
                            <li class="subNav__item">
                                <a href="#" tabindex="11">Item</a>
                            </li>
                            <li class="subNav__item" id="What--What-noSubNav">
                                <a href="#" tabindex="12">Item</a>
                            </li>
                        </div>
                        </ul>
                    </span>
                </span>
                <span id="Deals-noSubNav" class="desktopNav__navItem">
                    <a class="" tabindex="13" href="http://xpress.wpqa.mywebgrocer.com/circular/">Deals</a>
                    <span>

                    </span>
                </span>
                <span role="link" id="Discover-hasSubNav" class="desktopNav__navItem desktopNav__navItemHasSubMenu">
                    <a class="" tabindex="14" href="#">Discover</a>
                    <span>

                        <ul id="DiscoversubNavId" class="desktopNav__subMenu">
                            <div class="discover-menu subMenuInterior">
                                <li class="subNav__item" id="Sample-Page-noSubNav">
                                    <a href="#" tabindex="15">Item</a>
                                </li>
                                <li class="subNav__item" id="home-Page-noSubNav">
                                    <a href="#" tabindex="16">Item</a>
                                </li>
                                <li class="subNav__item">
                                    <a href="#" tabindex="17">Item</a>
                                </li>
                            </div>
                        </ul>

                    </span>
                </span>
            </span>
        </nav>
    </div>
</div>